<div class="session frame">
    <div class="frame-left">
        <div class="frame-left-header">
            <input class="form-control" type="text" ng-model="keywords"/>
        </div>
        <div class="session-list" resize style="height:{{winHeight-90}}px">
            <div ng-class="{'session-list-item':true,'item-select':session.id==selectSession.id}" class="session-list-item"
                 ng-click="showSession(session)"
                 ng-repeat="session in sessionList | filter:keywords">
                <span class="session-portrait{{session.portraitArray.length}}">
                    <span class="session-portrait-{{$index}}" ng-repeat="portrait in session.portraitArray track by $index">
                        <img ng-src="{{portrait}}"/>
                    </span>
                </span>
                <span class="session-label">
                    {{ session.msName | limitTo: 8 }}{{session.msName.length > 8 ? '...' : ''}}
                </span>
                <span ng-if="session.unreadCount>0" class="badge pull-right">{{session.unreadCount}}</span>
            </div>
        </div>
    </div>
    <div class="frame-right">
        <div class="default-view" ng-hide="selectSession">
            <i class="fa fa-weixin"></i>
        </div>
        <div class="session-chat" ng-show="selectSession">
            <div class="chat-header">
                <span class="chat-header-name">
                    {{ selectSession.msName| limitTo: 30}}{{selectSession.msName.length > 30 ? '...' : ''}}
                </span>
            </div>
            <div  class="chat-content" resize style="height:{{winHeight-120}}px;word-break:break-all;">
                <div ng-repeat="recorder in selectSession.recorders">
                    <div ng-if="recorder.type=='5'">
                        <recorder_tip recorder="recorder"></recorder_tip>
                    </div>
                    <div ng-if="recorder.type!='5'">
                        <div ng-if="recorder.isRight" >
                            <div ng-if="recorder.type!='2'&&recorder.type!='3'&&recorder.type!='9'">
                               <recorder_right_msg recorder="recorder"></recorder_right_msg>
                            </div>
                            <div ng-if="recorder.type=='3'">
                                <recorder_right_pic recorder="recorder"></recorder_right_pic>
                            </div>
                            <div ng-if="recorder.type=='2'">
                                <recorder_right_vol recorder="recorder"></recorder_right_vol>
                            </div>
                            <div ng-if="recorder.type=='9'">
                                <recorder_right_doc recorder="recorder"></recorder_right_doc>
                            </div>
                        </div>
                        <div ng-if="recorder.isLeft">
                            <div ng-if="recorder.type!='2'&&recorder.type!='3'&&recorder.type!='9'">
                                <recorder_left_msg recorder="recorder"></recorder_left_msg>
                            </div>
                            <div ng-if="recorder.type=='3'">
                                <recorder_left_pic recorder="recorder"></recorder_left_pic>
                            </div>
                            <div ng-if="recorder.type=='2'">
                                <recorder_left_vol recorder="recorder"></recorder_left_vol>
                            </div>
                            <div ng-if="recorder.type=='9'">
                                <recorder_left_doc recorder="recorder"></recorder_left_doc>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chat-input">
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="msg" placeholder="输入..." ng-keypress="send($event)" >
                    <span class="input-group-btn">
                        <button ng-class="{'btn btn-default':msg.length==0,'btn btn-success':msg.length!=0}" ng-disabled="msg.length==0"
                                type="button" ng-click="doSend()">发送</button>
                    </span>
                </div>
             
            </div>
        </div>
    </div>
</div>
